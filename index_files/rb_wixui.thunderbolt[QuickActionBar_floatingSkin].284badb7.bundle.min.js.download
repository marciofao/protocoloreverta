!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[QuickActionBar_floatingSkin]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[QuickActionBar_floatingSkin]"]=t(require("react")):e["rb_wixui.thunderbolt[QuickActionBar_floatingSkin]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={96114:function(e,t,n){var o;!function(t){"use strict";var i=function(){},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=r.bind(t),i("initialized",e)}function c(e){e.scheduled||(e.scheduled=!0,e.raf(s.bind(null,e)),i("flush scheduled"))}function s(e){i("flush");var t,n=e.writes,o=e.reads;try{i("flushing reads",o.length),e.runTasks(o),i("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(o.length||n.length)&&c(e),t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(i("run tasks");t=e.shift();)t()},measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),c(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),c(this),n},clear:function(e){return i("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(o=function(){return u}.call(u,n,u,e))||(e.exports=o)}("undefined"!=typeof window?window:this)},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";o.r(i),o.d(i,{components:function(){return E}});var e=o(448),t=o.n(e),n=o(5329);function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o};const c=()=>"undefined"!=typeof window,s=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const l=(e,o)=>{const{compId:i,className:r,text:c,svgString:l,itemType:u,hasNotifications:d,color:f,link:p={},skinStyles:m={},clickHandler:h,keyDownHandler:v,role:y,tabIndex:k}=e,{linkPopupId:g,href:b,anchorDataId:x,anchorCompId:w,target:A}=p,C=f?{"--color":f}:void 0;return n.createElement("a",t()({id:i},s(e),{"aria-label":c,"data-quick-action":"action","data-aid":u,"data-anchor":x,"data-anchor-comp-id":w,onClick:h,onKeyDown:v,className:a(r,m.action),href:b,target:A,ref:o,style:C,"data-popupid":g},y&&{role:y},void 0!==k&&{tabIndex:k}),n.createElement("div",{className:m.icon,"data-quick-action":"icon",dangerouslySetInnerHTML:{__html:l}}),n.createElement("div",{className:m.text,"data-quick-action":"text"},c),d&&n.createElement("div",{className:m.notifications,"data-quick-action":"notifications"}))};var u=n.forwardRef(l),d=o(96114),f=o.n(d);function p(){if(!c())return{x:0,y:0,isAtPageBottom:!1};const{left:e,top:t}=document.body.getBoundingClientRect();return{x:e,y:t,isAtPageBottom:window.innerHeight+window.scrollY===document.body.scrollHeight}}var m={root:"quick-action-bar"};const h={black:"0,0,0",grey:"128,128,128",brand:void 0};function v(e,t){return"dynamicAction-"+e+"-"+t}var y=e=>{const{id:o,className:i,customClassNames:r=[],skin:l,skinStyles:d,items:y=[],dynamicActions:k=[],translations:g,onOpen:b,onClose:x,onTrackEvent:w,maxActions:A,hideText:C,alignment:B,isFloating:P=!1,colorScheme:I,isColorSchemeInverted:O,isHidden:M=!1,shouldSetPositionAbsoluteAtPageBottom:T,onQuickActionBarItemClicked:E,onMouseEnter:D=(()=>{}),onMouseLeave:N=(()=>{}),openActionBar:S,closeActionBar:L,reportBiOnMenuButtonClick:_,reportBiOnMenuItemClick:j,isOpen:R}=e,q="left"===B,F=y.length,H=k.length,Q=Math.min(A-H,F),U=Q+H,z=U>0,[G,K]=(0,n.useState)(!1);!function(e,t,o){void 0===o&&(o={}),o={waitFor:100,disabled:!1,...o};const i=(0,n.useRef)(p());let r=null;const a=()=>{f().measure((()=>{const t=p(),n=i.current;i.current=t,r=null,f().mutate((()=>e({prevPos:n,currPos:t})))}))};(c()?n.useLayoutEffect:n.useEffect)((()=>{if(!c())return;const e=()=>{null===r&&(r=window.setTimeout(a,o.waitFor))};return o.disabled?()=>{}:(window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e),r&&window.clearTimeout(r)})}),t)}((e=>{let{currPos:t}=e;return n=t.isAtPageBottom,void K(n);var n}),[]);const W=(e,t)=>{["phone","email","whatsapp","line"].includes(e)?w("Lead",{action:e+" clicked",label:"Mobile Action Bar | "+t}):w("CustomEvent",{eventCategory:"Engagement",eventAction:t+" clicked",eventLabel:"Mobile Action Bar"})},X=n.useRef(b),V=n.useRef(x);n.useEffect((()=>{R?null==X.current||X.current():null==V.current||V.current()}),[R]);const Y=P&&U>1,J=n.useRef(null);const $=g.menuButtonAriaLabel||"Quick action menu",Z=a(i,[d.root],[d["action-count-"+U]],((...e)=>e.map((e=>e?`wixui-${e}`:"")).join(" "))(m.root,...r),{[d["hide-text"]]:C,[d.closed]:!R,[d["align-left"]]:q,[d.hidden]:M}),ee={root:Z,action:a(d.action,{[d.inverted]:O}),icon:d.icon,svg:d.svg,text:d.text,controlButton:d.controlButton,notifications:d.notifications,dots:d.dots,firstDot:d.firstDot,secondDot:d.secondDot,thirdDot:d.thirdDot,separator:d.separator,actionsContainer:d.actionsContainer,overlay:d.overlay},te=n.useRef(null);function ne(e){var t;"Tab"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),null==(t=te.current)||t.focus())}const oe={isOpen:R,position:T&&G?"absolute":"fixed"},ie={onClick:L},re={ariaLabel:$||"",ariaExpanded:R,onClick:function(){null==_||_(!!R),R?L():S()},onKeyDown:function(e){var t;Y&&R&&"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==(t=J.current)||t.focus())}},ae={display:Y&&!R?"none":""},ce=!R&&k.some((e=>e.hasNotifications)),se=function(e){return h[e]}(I);return n.createElement(l,t()({},s(e),{"data-has-actions":z,"data-is-open":R,rootProps:oe,overlayProps:ie,controlButtonProps:re,actionsContainerProps:ae,hasNotifications:ce,classes:ee,ref:te,id:o,style:{visibility:z?"visible":"hidden","--predefined-color":se},onMouseEnter:D,onMouseLeave:N}),function(){const e=[],i=y.slice(0,Q).concat(k.map(((e,t)=>{let{text:n,itemType:i,svgString:r,hasNotifications:a,color:c,onActivate:s}=e;return{compId:v(o,t),text:n,itemType:i,svgString:r,role:"button",tabIndex:0,hasNotifications:a,color:c,clickHandler(){null==j||j({text:n,itemType:i}),W(i,n),null==E||E({type:"quickActionBarItemClicked",item:{itemType:i,label:n,link:""},actionIndex:t}),L(),s()}}})));return i.forEach(((o,r)=>{const{itemType:a,text:c,link:s}=o,l=r===i.length-1,d={skinStyles:ee,clickHandler:()=>{var e;null==j||j({text:c,link:s,itemType:a}),W(a,c),null==E||E({item:{itemType:o.itemType,label:o.text,link:(null==(e=o.link)?void 0:e.href)||""},actionIndex:r,type:"quickActionBarItemClicked"}),L()},...o};(e=>P&&e)(l)?(d.ref=J,d.keyDownHandler=ne):d.ref=null,e.push(n.createElement(u,t()({},d,{key:o.compId}))),l||e.push(n.createElement("div",{className:ee.separator,key:r,"data-quick-action":"separator"}))})),e}())};const k=(e,o)=>{const{rootProps:i,actionsContainerProps:r,hasNotifications:a,controlButtonProps:c,classes:s={},id:l,onMouseEnter:u,onMouseLeave:d}=e,f={display:i.display,position:i.position,...e.style};return n.createElement("div",{className:s.root,style:f,id:l,onMouseEnter:u,onMouseLeave:d},n.createElement("div",{className:s.overlay,onClick:e.overlayProps.onClick}),n.createElement("button",{className:s.controlButton,"aria-label":c.ariaLabel,"aria-expanded":c.ariaExpanded,onClick:c.onClick,ref:o},a&&n.createElement("div",{className:s.notifications,"data-quick-action":"notifications"}),n.createElement("ul",{className:s.dots},n.createElement("li",{className:s.firstDot}),n.createElement("li",{className:s.secondDot}),n.createElement("li",{className:s.thirdDot}))),n.createElement("div",t()({className:s.actionsContainer},r,{style:{display:r.display},id:l+"actionsContainer"}),e.children))};var g=n.forwardRef(k),b={rootClass:"RUXDFT",root:"Y3P79X",notifications:"_fFDfn","notify-chat":"eGH6Xi",notifyChat:"eGH6Xi",actionsContainer:"rJUq1e",action:"axweOX",icon:"tPFN6O",text:"kh_lvM",inverted:"wIbB0R","hide-text":"BP30xe",hideText:"BP30xe",hidden:"WB9Y75",overlay:"BQp3Kg",controlButton:"tQeg56",dots:"AOQAUu",firstDot:"kMW8sM",secondDot:"WrDNua",thirdDot:"kWzcjs",separator:"gpmyu8",closed:"iAHSYN","action-count-1":"IVDlOC",actionCount1:"IVDlOC","action-count-0":"pcnb21",actionCount0:"pcnb21","align-left":"BBkoOl",alignLeft:"BBkoOl"};const x=(e,o)=>n.createElement(g,t()({},e,{ref:o}));var w=e=>n.createElement(y,t()({},e,{isFloating:!0,skin:n.forwardRef(x),skinStyles:b}));const A=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var C;!function(e){e.Text="Text",e.Menu="Menu",e.Image="Image",e.Input="Input",e.Login="Login",e.Button="Button",e.Social="Social",e.Gallery="Gallery",e.Community="Community",e.Decorative="Decorative",e.MenuAndSearch="MenuAndSearch",e.MenuAndAnchor="MenuAndAnchor"}(C||(C={}));const B=e=>"linkPopupId"in e,P=(e,t)=>{if(B(e))return e.linkPopupId;{const{pagesMap:n,mainPageId:o}=t||{};if(!n)return;const i=new URL(e.href??"");let r=Object.values(n).find((({pageUriSEO:e})=>!!e&&i.pathname?.includes(e)));return r||(r=o?n[o]:void 0),r?.pageId}},I=e=>{if(void 0!==e)return null===e?"None":e.type},O=(e,t)=>{if(!e?.type)return;const{type:n}=e;switch(n){case"AnchorLink":return e.anchorDataId;case"DocumentLink":return e.docInfo?.name;case"PageLink":const n=P(e,t);return n&&t?.pagesMap?.[n]?.title;default:return e.href}},M=(e,t,n)=>{const{link:o,value:i,details:r,actionName:a,elementType:c,trackClicksAnalytics:s,pagesMetadata:l,...u}=t;if(!s)return;const d=l&&{...l,pagesMap:window.viewerModel?.siteFeaturesConfigs?.router?.pagesMap},f=((e,t)=>{if(!e?.type)return;const{type:n}=e;switch(n){case"AnchorLink":return(e=>"anchorDataId"in e&&("SCROLL_TO_TOP"===e.anchorDataId||"SCROLL_TO_BOTTOM"===e.anchorDataId))(e)?void 0:{id:e.anchorDataId};case"DocumentLink":return{id:e.docInfo?.docId};case"PageLink":return{id:P(e,t),isLightbox:B(e)};default:return}})(o,d),p=r||f?JSON.stringify({...f,...r}):void 0;e({src:76,evid:1113,...{...u,bl:navigator.language,url:window.location.href,details:p,elementType:c??"Unknown",actionName:a??I(o),value:i??O(o,d)}},{endpoint:"pa",...n})};var T;const E={QuickActionBar_floatingSkin:{component:w,controller:(T=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{trackEvent:i,reportBi:r}=o,{updateProps:a}=n,{compId:c,language:s,mainPageId:l,fullNameCompType:u,trackClicksAnalytics:d,...f}=t,p={language:s,trackClicksAnalytics:d,element_id:c,elementType:u,elementGroup:C.Menu};return{...f,reportBiOnMenuItemClick:e=>{const{text:t,itemType:n,link:o}=e;M(r,{...p,link:o,elementTitle:t,details:{itemType:n},pagesMetadata:{mainPageId:l}})},reportBiOnMenuButtonClick:e=>{M(r,{...p,value:e})},onTrackEvent(e,t){i&&i({eventName:e,params:t})},openActionBar:()=>{a({isOpen:!0})},closeActionBar:()=>{a({isOpen:!1})}}},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:A(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return T({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[QuickActionBar_floatingSkin].284badb7.bundle.min.js.map